# macOS åº”ç”¨åå°å®ˆæŠ¤å®‰è£…è„šæœ¬ï¼ˆAppleScript éšè—ç‰ˆï¼‰

## ğŸ“Œ åŠŸèƒ½è¯´æ˜

`install_watch_single.sh` æ˜¯ä¸€æ¬¾ç”¨äº **macOS** çš„è‡ªåŠ¨åŒ–å®ˆæŠ¤å®‰è£…è„šæœ¬ï¼Œå®ƒå¯ä»¥ï¼š

- è‡ªåŠ¨ç›‘æ§æŒ‡å®šåº”ç”¨æ˜¯å¦åœ¨è¿è¡Œ  
- **ä»…åœ¨åº”ç”¨æœªè¿è¡Œæ—¶å¯åŠ¨**  
- å¯åŠ¨åç«‹å³ **éšè—çª—å£**ï¼Œé¿å…å¼¹å‡ºåˆ°å‰å°  
- æ¯ä¸ªåº”ç”¨ç‹¬ç«‹ç”Ÿæˆ plist å’Œç›‘æ§è„šæœ¬ï¼Œä¾¿äºå•ç‹¬ç®¡ç†  

---
## âš™ï¸ æ–‡ä»¶ç»“æ„

æ‰§è¡Œå®‰è£…è„šæœ¬åï¼Œå°†ç”Ÿæˆä»¥ä¸‹æ–‡ä»¶ï¼š

- `~/check_<AppName>.sh`  
  - ç›‘æ§è„šæœ¬ï¼Œä½¿ç”¨ AppleScript å¯åŠ¨åº”ç”¨å¹¶éšè—çª—å£  
  - ç¤ºä¾‹ï¼š`check_Notes.sh`  

- `~/Library/LaunchAgents/com.user.<AppName>.plist`  
  - `launchd` é…ç½®æ–‡ä»¶  
  - ç¤ºä¾‹ï¼š`com.user.Notes.plist`  

- æ—¥å¿—æ–‡ä»¶ï¼ˆå­˜æ”¾åœ¨ `/tmp` ç›®å½•ï¼‰  
  - `check_<AppName>.out`  
  - `check_<AppName>.err`  

---

## ğŸš€ å®‰è£…ä¸ä½¿ç”¨

### 1. ä¸‹è½½è„šæœ¬
```bash
chmod +x install_watch_single.sh
```
### 2. è¿è¡Œå®‰è£…
```bash
./install_watch_single.sh
```
è„šæœ¬ä¼šæç¤ºè¾“å…¥ï¼š
1. åº”ç”¨åï¼ˆå¦‚ `Notes`ï¼‰
2. åº”ç”¨è·¯å¾„ï¼ˆå¦‚ `/System/Applications/Notes.app`ï¼‰

å®‰è£…å®Œæˆåï¼š
- ç”Ÿæˆå¯¹åº”çš„ç›‘æ§è„šæœ¬  
- åˆ›å»ºå¹¶åŠ è½½å¯¹åº” plist
- ç«‹å³å¼€å§‹ç›‘æ§åº”ç”¨ï¼Œç¡®ä¿æœªè¿è¡Œæ—¶è‡ªåŠ¨å¯åŠ¨å¹¶éšè—çª—å£

## ğŸ”„ å¼€æœºè‡ªå¯

- plist æ–‡ä»¶ä½äº `~/Library/LaunchAgents/`
- macOS ä¼šåœ¨å¼€æœºæ—¶è‡ªåŠ¨åŠ è½½ï¼Œå®ˆæŠ¤è¿›ç¨‹æ— éœ€æ‰‹åŠ¨è¿è¡Œ

## ğŸ›  å¸è½½æ–¹æ³•

å¦‚æœéœ€è¦ç§»é™¤æŸä¸ªåº”ç”¨çš„å®ˆæŠ¤è¿›ç¨‹ï¼š
```bash
# å¸è½½å®ˆæŠ¤è¿›ç¨‹
launchctl unload ~/Library/LaunchAgents/com.user.<AppName>.plist  
# åˆ é™¤ plist æ–‡ä»¶ 
rm ~/Library/LaunchAgents/com.user.<AppName>.plist  
# åˆ é™¤ç›‘æ§è„šæœ¬ 
rm ~/check_<AppName>.sh
```
ç¤ºä¾‹ï¼šå¸è½½ Notes
```bash
launchctl unload ~/Library/LaunchAgents/com.user.Notes.plist
rm ~/Library/LaunchAgents/com.user.Notes.plist
rm ~/check_Notes.sh
```

## âš¡ ç‰¹æ€§è¯´æ˜

- **åå°å¯åŠ¨ & éšè—çª—å£**
    - ä½¿ç”¨ AppleScript `launch` å¯åŠ¨åº”ç”¨
    - `set visible to false` éšè—çª—å£
- **åªå¯åŠ¨æœªè¿è¡Œçš„ç¨‹åº**
    - AppleScript åˆ¤æ–­ `if not running then launch`
- **æ—¥å¿—è®°å½•**
    - è¾“å‡ºåˆ° `/tmp/check_<AppName>.out` å’Œ `/tmp/check_<AppName>.err`
- **ç‹¬ç«‹ç®¡ç†**
    - æ¯ä¸ªåº”ç”¨ç”Ÿæˆç‹¬ç«‹çš„ plist å’Œç›‘æ§è„šæœ¬ï¼Œå¯å•ç‹¬å¸è½½

## â“ å¸¸è§é—®é¢˜

- **Q: æ—¥å¿—æ–‡ä»¶ä¼šè‡ªåŠ¨æ¸…ç©ºå—ï¼Ÿ**
    - ä¸ä¼šï¼Œæ—¥å¿—ä¼šç´¯ç§¯ã€‚å¦‚æœéœ€è¦æ¸…ç©ºï¼Œè¯·æ‰‹åŠ¨åˆ é™¤ `/tmp/check_<AppName>.out` å’Œ `/tmp/check_<AppName>.err`
    
- **Q: å¦‚æœåº”ç”¨å·²ç»åœ¨åå°è¿è¡Œä¼šæ€ä¹ˆæ ·ï¼Ÿ**
    - å®ˆæŠ¤è„šæœ¬ä¼šæ£€æµ‹åˆ°å·²è¿è¡Œï¼Œ**ä¸ä¼šé‡å¤å¯åŠ¨**
    
- **Q: å¤šä¸ªç¨‹åºå¦‚ä½•ç›‘æ§ï¼Ÿ**
    - ç›®å‰ç‰ˆæœ¬éœ€åˆ†åˆ«è¿è¡Œå®‰è£…è„šæœ¬ï¼Œæ¯ä¸ªåº”ç”¨ç”Ÿæˆç‹¬ç«‹ plist
